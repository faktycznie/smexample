(function(){const e=function(){const e=document.querySelector(".cookie-consent__button .btn");if(e){const t=document.querySelector(".cookie-consent"),n=(e,t,n=365,o="/")=>{const c=new Date(Date.now()+864e5*n).toUTCString();document.cookie=e+"="+encodeURIComponent(t)+"; expires="+c+"; path="+o};e.addEventListener("click",function(){t.remove(),n("smexample-consent","1")})}},t=function(){const e=document.querySelector(".contact-form");if(e){jQuery(e).validate({debug:!0,rules:{name:"required",email:{required:!0,email:!0},message:"required",consent:{required:!0}},messages:{name:"To pole jest wymagane",email:{required:"To pole jest wymagane",email:"Wpisz poprawny adres email"},message:"To pole jest wymagane",consent:"To pole jest wymagane"}});const t=document.querySelector(".contact-form__btn");t.addEventListener("click",function(o){o.preventDefault();const c=e.parentNode.querySelector(".message");c&&c.remove();const s=function(e){t.disabled=!0;const o=e.getAttribute("action"),c=new FormData(e),s=new URLSearchParams(c);fetch(o,{method:"POST",body:s}).then(e=>e.json()).then(o=>{let c=!0===o.success?"success":"fail";const s=n(o.data,c);e.parentNode.prepend(s),e.reset(),t.disabled=!1}).catch(e=>{console.log(e)})},a=jQuery(e).valid();a&&s(e)});const o=document.querySelector(".checkbox__more");o.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(".contact-form__consent");if(t){t.classList.toggle("contact-form__consent--active"),this.classList.toggle("checkbox__more--active");const e=this.textContent,n=this.getAttribute("data-lang");this.setAttribute("data-lang",e),this.textContent=n}})}},n=function(e,t){let n=document.createElement("div");return n.classList.add("message","message--"+t),n.innerHTML=e,n},o=function(){const e=document.querySelector(".hamburger");if(e){const t=document.querySelector(".nav-menu__container");e.addEventListener("click",function(e){e.preventDefault(),this.classList.toggle("hamburger--active"),document.body.classList.toggle("menu-mobile"),t.classList.toggle("nav-menu__container--mobile"),t.classList.toggle("animate__animated"),t.classList.toggle("animate__bounceInDown")})}},c=function(){let e=window.scrollY,t=e;window.addEventListener("scroll",function(){e=window.scrollY,0===e?(t=0,document.body.classList.remove("scroll-down"),document.body.classList.remove("scroll-up")):e>t?(document.body.classList.remove("scroll-up"),document.body.classList.add("scroll-down"),t=e):(document.body.classList.remove("scroll-down"),document.body.classList.add("scroll-up"),t=e)});const n=document.querySelectorAll('a[href^="#"]');let o=100;if(n.length)for(let e of n){const t=e.attributes.href.value.replace("#","");if(t.length<1)continue;const n=document.getElementById(t);n&&e.addEventListener("click",function(t){t.preventDefault();let c=n.offsetTop,s=c-o;if(window.scrollTo({top:s,behavior:"smooth"}),document.body.classList.contains("menu-mobile")&&e.parentNode.classList.contains("menu-item")){const e=document.querySelector(".hamburger");e.click()}})}},s=function(){const e=document.querySelectorAll(".reports__link");if(e.length){const t=e=>{[...e.parentElement.children].forEach(e=>e.classList.remove("reports__item--active")),e.classList.add("reports__item--active")};e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),t(this.parentNode);const n=document.querySelector(".reports__content");n.classList.add("reports__content--empty"),n.classList.remove("animate__fadeIn"),n.classList.remove("animate__animated");const o={action:"smexample_get_reports",target:this.attributes.href.value.replace("#report","")},c=new URLSearchParams(o);fetch(ajax.url,{method:"POST",body:c}).then(function(e){return e.text()}).then(e=>{n.innerHTML=e,n.classList.remove("reports__content--empty"),n.classList.add("animate__fadeIn"),n.classList.add("animate__animated");const t=n.querySelectorAll(".report__chart");t.length&&t.forEach(function(e){a(e)})}).catch(e=>{console.log(e)})})}),e[0].click()}},a=function(e){let t=e.getAttribute("data-source");t=JSON.parse(t);let n=e.getAttribute("data-dimm");n=JSON.parse(n);let o=e.getAttribute("data-color");o=JSON.parse(o);let c=function(e){--e;const t=[];for(let n=0;n<e;n++){const e=void 0!==o[n]?o[n]:o[0],c={type:"bar",color:e};t.push(c)}return t},s={legend:{},tooltip:{},dataset:{dimensions:n,source:t},xAxis:{type:"category"},yAxis:{},series:c(n.length)},a=echarts.init(e);a.setOption(s),window.onresize=function(){a.resize()}};document.addEventListener("DOMContentLoaded",function(){e(),t(),o(),c(),s()})})();